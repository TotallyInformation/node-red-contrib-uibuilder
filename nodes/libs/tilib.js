"use strict";const s=require("path"),o=process.env.TI_ENV==="debug"?console.log:function(){};module.exports={packageJson:"package.json",trimSlashes:function(e){return e.replace(/(^\/*)|(\/*$)/g,"")},urlJoin:function(){return("/"+Array.prototype.slice.call(arguments).map(function(t){return t!==void 0?t.replace(/^\/|\/$/g,""):""}).filter(function(t){return t}).join("/")).replace("//","/")},escapeRegExp:function(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},getNpmRunScripts:function(e,r=""){let t;try{t=require(s.join(e,this.packageJson)).scripts}catch{t=void 0}return t!==void 0&&r!==""&&(t[r]===void 0?t=null:t=t[r]),t},mergeDedupe:function(...e){return[...new Set([].concat(...e))]},syntaxHighlight:function(e){return e=JSON.stringify(e,void 0,4),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e='<pre class="syntax-highlight" style="color:white;background-color:black;overflow:auto;">'+e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)/g,function(r){let t="number",n='style="color:white"';return/^"/.test(r)?/:$/.test(r)?(t="key",n='style="color:#069fb3"'):(t="string",n='style="color:orange"'):/true|false/.test(r)?(t="boolean",n='style="color:rgb(20,99,163)"'):/null/.test(r)&&(t="null",n='style="color:magenta"'),`<span class="${t}" ${n}>${r}</span>`})+"</pre>",e},compareArrays:function(e,r){const t=[[],[]];for(let n=0,l=e.length;n<l;++n)r.indexOf(e[n])===-1&&t[0].push(e[n]);for(let n=0,l=r.length;n<l;++n)e.indexOf(r[n])===-1&&t[1].push(r[n]);return t},quickCompareArrays:function(e,r){for(let t=0,n=e.length;t<n;++t)if(r.indexOf(e[t])===-1)return!1;for(let t=0,n=r.length;t<n;++t)if(e.indexOf(r[t])===-1)return!1;return!0},dumpReq:function(e){return{headers:{host:e.headers.host,referer:e.headers.referer},url:e.url,method:e.method,baseUrl:e.baseUrl,hostname:e.hostname,originalUrl:e.originalUrl,path:e.path,protocol:e.protocol,secure:e.secure,subdomains:e.subdomains}},mylog:o,dumpMem:e=>{const r=process.memoryUsage(),t=n=>(n/1048576).toFixed(2);o(`${e} Memory Use (MB): RSS=${t(r.rss)}. Heap: Used=${t(r.heapUsed)}, Tot=${t(r.heapTotal)}. Ext C++=${t(r.external)}`)}};
//# sourceMappingURL=tilib.js.map
